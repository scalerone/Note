# 文字处理

## 文字处理

  - 匹配 `aabb` 样式数据。`\1` 表示引用第一个子表达式配备的内容, `\2` 表示引用第二个子表达式配备的内容

    ```javascript
    const str = 'abab';
    const reg = /(\w)\1(\w)\2/g;

    console.log(reg.exec(str)) // [ 'aabb', 'a', 'b', index: 0, input: 'aabbabcd' ]
    console.log(str.match(reg)); // [ 'aabb' ]
    ```

    ```javascript
    const str = 'aaaa';
    const reg = /(\a)\1/g;

    console.log(reg.exec(str)) // [ 'aa', 'a', index: 0, input: 'aaaa' ]
    console.log(str.match(reg)); // [ 'aa', 'aa' ]
    ```

  - 将 `the-first-name` 转成小驼峰式写法

    ```javascript
    const str = 'the-first-name';
    const reg = /-(\w)/g;

    const re = str.replace(reg, function($, $1){
      console.log($1);
      return $1.toUpperCase();
    });
    console.log(re); // theFirstName
    ```

  - 将 `aaaabbbccccc` 变成 `abc`

    ```javascript
    const str = 'aaabbbbcc';
    const reg = /(\w)\1*/g;
    console.log(str.replace(reg, function($, $1) {
      console.log($); // aaa bbb cc
      console.log($1); // a b c
      return $1;
    }));
    ```

  - 模板

    ```javascript
    const str = 'my name is {{name}}, Im {{age}} years old';
    const reg = /{{(.*?)}}/g;
    console.log(str.replace(reg, function(node, key) {
      console.log(node, key);
      // 打印
      // {{name}} name
      // {{age}} age
      return {
        name: '小刚刚',
        age: 18
      }[key];
    }));

    // my name is 小刚刚, Im 18 years old
    ```

## 字符串 trim 方法模拟

  - `trim` 方法是去掉字符串的开头和结尾的空白符

  - 方法1(效率高)：匹配到开头和结尾的空白符，然后替换成空字符

    ```javascript
    function trim(str) {
      return str.replace(/^\s+|\s+$/g, '');
    }
    console.log( trim(" foobar ") );
    // => "foobar"
    ```

  - 方法2：匹配整个字符串，然后用引用来提取出相应的数据：

    ```javascript
    // 使用了惰性匹配 *?，不然也会匹配最后一个空格之前的所有空格的
    function trim (str) {
      return str.replace(/^\s*(.*?)\s*$/g, "$1");
    }
    console.log( trim(" foobar ") );
    // => "foobar"
    ```
