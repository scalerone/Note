# 基础

## 概述

+ 预编译发生在函数执行的前一刻

## 预编译前奏

1. imply global 暗示全局变量：即任何变量，如果变量未经声明就赋值，此变量就为全局对象（`window`）所有

    ```js
    a = 123;
    // 相当于
    window.a = 123
    ```

    ```js
    function a() {
      function b() {
        c = 10; // 相当于 window.c = 10
      }
      b()
    }
    a()
    console.log(c); // 10
    ```

2. 一切声明的全局变量，全是 `window` 的属性

  ```js
  // 全局环境下
  var a = 123;
  // 相当于
  window.a = 123
  ```

## 预编译

1. 创建AO对象（执行期上下文）
2. 找形参和变量声明，将变量和形参名作为AO属性名，值为 `undefined`
3. 将实参值和形参统一
4. 在函数体里面找函数声明，值赋予函数体

## 示例

+ 示例

  ```js
  function test(a, b) {
    console.log(a); // 1
    c = 0;
    var c;
    a = 3;
    b = 2;
    console.log(b); // 2
    function b() {}
    function d() {}
    console.log(b); // 2
  }

  test(1)
  ```
