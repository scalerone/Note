# 类型

## 概述

+ 为了在声明 `props` 选项时获得完整的类型推断支持，我们可以使用 `defineProps` API，它将自动地在 `script setup` 中使用

## Props标注类型

+ 从它的参数中推导类型

  ```js
  <script setup lang="ts">
  const props = defineProps({
    foo: { type: String, required: true },
    bar: Number
  })

  props.foo // string
  props.bar // number | undefined
  </script>
  ```

+ 通过泛型参数来定义 `prop` 的类型通常更直接

  ```js
  <script setup lang="ts">
  const props = defineProps<{
    foo: string
    bar?: number
  }>()
  </script>
  ```

  ```js
  // 或者 将 prop 的类型移入一个单独的接口中
  <script setup lang="ts">
  interface Props {
    foo: string
    bar?: number
  }

  const props = defineProps<Props>()
  </script>
  ```

## PropType

+ 用于在用运行时 `props` 声明时给一个 `prop` 标注更复杂的类型定义

  ```js
  import { PropType } from 'vue'

  interface Book {
    title: string
    author: string
    year: number
  }

  export default {
    props: {
      book: {
        // 提供一个比 `Object` 更具体的类型
        type: Object as PropType<Book>,
        required: true
      },
      // 也可以标记函数
      callback: Function as PropType<(id: number) => void>
    }
  }
  ```
