# 默认值设置

## withDefaults 默认值

+ 当使用基于类型的声明时，我们失去了为 `props` 声明默认值的能力
+ 这可以通过 `withDefaults` 编译器宏解决

  ```js
  import { Component, withDefaults } from 'vue'

  export interface Props {
    msg?: string
    labels?: string[]
  }

  const props = withDefaults(defineProps<Props>(), {
    msg: 'hello',
    labels: () => ['one', 'two']
  })
  ```

## 响应式 Props 解构

+ 解构的 props 保持响应性，并提供更符合人体工程学的声明 props 默认值的方式

  ```html
  <script setup>
    import { watchEffect } from 'vue'

    const { msg = 'hello' } = defineProps(['msg'])

    watchEffect(() => {
      // 在 watchers 和 computed getters 中访问 `msg`
      // 将其作为依赖项进行跟踪，就像访问 `props.msg` 一样
      console.log(`msg is: ${msg}`)
    })
  </script>

  <template>{{ msg }}</template>
  ```
