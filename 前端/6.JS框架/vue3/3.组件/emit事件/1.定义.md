# defineEmit

## 概述

+ 子组件向父组件传递内容事件

  ```js
  const text = ref(1)
  const emit = defineEmits(['update:modelValue'])
  emit('update:modelValue', text.value)
  ```

+ `defineEmits` 都是只能在 `<script setup>` 中使用的编译器宏。他们不需要导入，且会随着 `<script setup>` 的处理过程一同被编译掉

## 搭配TS

+ 为了在声明 `emits` 选项时获得完整的类型推断支持，我们可以使用 `defineEmits` API，它将自动地在 `script setup` 中使用

  ```html
  <!-- 子组件 -->
  <script setup lang="ts">
  // 运行时
  const emit = defineEmits(['change', 'update'])

  // 基于类型
  const emit = defineEmits<{
    (e: 'change', id: number): void
    (e: 'update', value: string): void
  }>()
  </script>
  ```

  ```html
  <!-- 父组件 -->
  <Comp @update="handleClick"/>

  <script lang="ts" setup>
  const handleClick = (data) => {
    console.log(data)
  }
  </script>
  ```
