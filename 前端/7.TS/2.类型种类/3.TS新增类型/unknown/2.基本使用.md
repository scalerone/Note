# 基本使用

## 使用 unknown

+ 相比 `any` 类型，TypeScript 会对 `unknown` 类型的变量执行类型检查

  ```ts
  function invokeCallback(callback: unknown) {
    try {
      // Object is of type 'unknown'.(2571)
      callback(); // Error
    } catch (err) {
      console.error(err)
    }
  }

  // 解决办法
  function invokeCallback(callback: unknown) {
    try {
      if (typeof callback === 'function') {
        callback();
      }
    } catch (err) {
      console.error(err)
    }
  }

  invokeCallback(1);
  ```

+ 在实际工作中，你还可以通过 instanceof 或用户自定义类型守卫等方式来缩窄变量的类型

  ```ts
  declare function isFunction(x: unknown): x is Function;

  function f20(x: unknown) {
    if (x instanceof Error) {
      x;  // Error
    }
    if (isFunction(x)) {
      x;  // Function
    }
  }
  ```

+ 用类型断言缩小未知范围

  ```ts
  const getDogName = () => {
    let x: unknown;
    return x;
  };

  const dogName = getDogName();
  console.log((dogName as string).toLowerCase());
  ```
