# 函数重载

## 概述

- 一些 JavaScript 函数在调用的时候可以传入不同数量和类型的参数

- 在 TypeScript 中，我们可以通过写重载签名 (overlaod signatures) 说明一个函数的不同调用方法。 我们需要写一些函数签名 (通常两个或者更多)，然后再写函数体的内容

- 我们写了一个兼容签名的函数实现，我们称之为实现签名 (implementation signature) ，但这个签名不能被直接调用。尽管我们在函数声明中，在一个必须参数后，声明了两个可选参数，它依然不能被传入两个参数进行调用

## 重载签名和实现签名

- 实现签名对外界来说是不可见的。当写一个重载函数的时候，你应该总是需要来两个或者更多的签名在实现签名之上

- 而且实现签名必须和重载签名必须兼容（compatible），举个例子，这些函数之所以报错就是因为它们的实现签名并没有正确的和重载签名匹配

  ```ts
  // 重载签名
  function greet(person: string): string;
  function greet(persons: string[]): string[];

  // 实现签名
  function greet(person: unknown): unknown {
    if (typeof person === 'string') {
      return `Hello, ${person}!`;
    } else if (Array.isArray(person)) {
      return person.map(name => `Hello, ${name}!`);
    }
    throw new Error('Unable to greet');
  }

  ```

  ```ts
  function add(a: number, b: number): number;
  function add(a: string, b: string): string;
  function add(a: string, b: number): string;
  function add(a: number, b: string): string;
  function add(a: Combinable, b: Combinable) {
    if (typeof a === 'string' || typeof b === 'string') {
      return a.toString() + b.toString();
    }
    return a + b;
  }
  ```

- **尽可能的使用联合类型替代重载**
