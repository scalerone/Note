# 索引类型访问

## 概述

+ 在 JavaScript 中我们可以通过 obj[expression] 的方式来动态访问一个对象属性（即计算属性），`expression` 表达式会先被执行，然后使用返回值来访问属性
+ 而 TypeScript 中我们也可以通过类似的方式，只不过这里的 `expression` 要换成类型

 ```ts
  interface NumberRecord {
    [key: string]: number;
  }

  // 其访问方式与返回值均是类型
  type PropType = NumberRecord[string]; // number
  ```

 ```ts
  interface Foo {
    propA: number;
    propB: boolean;
  }

  type PropAType = Foo['propA']; // number
  type PropBType = Foo['propB']; // boolean
  ```

## 结合 keyof

+  使用 `keyof` 操作符能一次性获取这个对象所有的键的字面量类型

 ```ts
  interface Foo {
    propA: number;
    propB: boolean;
    propC: string;
  }

  type PropTypeUnion = Foo[keyof Foo]; // string | number | boolean
  ```

## 注意

+ 在未声明索引签名类型的情况下，我们不能使用 `NumberRecord[string]` 这种原始类型的访问方式，而只能通过键名的字面量类型来进行访问

 ```ts
  interface Foo {
    propA: number;
  }

  // 类型“Foo”没有匹配的类型“string”的索引签名
  type PropAType = Foo[string];
  ```
