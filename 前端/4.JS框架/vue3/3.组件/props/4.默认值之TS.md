# 默认值

## 方式1 withDefaults

+ 使用 `withDefaults`

  ```js
  interface Props {
    msg?: string
    labels?: string[]
  }

  const props = withDefaults(defineProps<Props>(), {
    msg: 'hello',
    labels: () => ['one', 'two']
  })
  ```

## 方式2

+ 当使用基于类型的声明时，我们失去了对 prop 定义默认值的能力。这可以通过目前实验性的[响应性语法糖](https://staging-cn.vuejs.org/guide/extras/reactivity-transform.html#reactive-props-destructure "响应性语法糖")来解决

  ```js
  // vite.config.js
  export default {
    plugins: [
      vue({
        reactivityTransform: true
      })
    ]
  }
  ```

  ```js
  <script setup lang="ts">
    interface Props {
      msg: string
      count?: number
      foo?: string
    }

    const {
      msg,
      // 默认值正常可用
      count = 1,
      // 解构时命别名也可用
      // 这里我们就将 `props.foo` 命别名为 `bar`
      foo: bar
    } = defineProps<Props>()

    watchEffect(() => {
      // 会在 props 变化时打印
      console.log(msg, count, bar)
    })
  </script>
  ```
