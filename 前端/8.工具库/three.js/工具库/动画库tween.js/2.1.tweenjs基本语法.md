# tweenjs基本语法

## 概述

+ tweenjs功能从语法的角度讲，就是改变自己的参数对象

  ```js
  const pos = {x: 0,y: 0};
  const tween = new TWEEN.Tween(pos);//创建一段tween动画

  //经过2000毫秒，pos对象的x和y属性分别从零变化为100、50
  tween.to({x: 100,y: 50}, 2000);

  //tween动画开始执行
  tween.start();
  ```

+ 在 `requestAnimationFrame` 动画中，tween更新 `.update()` ，tween才能正常执行

  ```js
  function loop() {
    TWEEN.update();//tween更新
    requestAnimationFrame(loop);
  }
  loop();
  ```

+ 浏览器控制台测试查看tweenjs是否逐渐改变pos对象的x和y属性

  ```js
  function loop() {
    TWEEN.update();
    // 测试tweenjs是否逐渐改变pos对象的x和y属性
    console.log(pos.x,pos.y);
    requestAnimationFrame(loop);
  }
  ```

## tweenjs改变threejs模型对象

+ 位移：three.js模型的位置 `mesh.position` 属性是一个具有`.x`、`.y`、`.z`属性的对象，可以直接使用tweenjs直接改变

  ```js
  //创建一段mesh平移的动画
  const tween = new TWEEN.Tween(mesh.position);

  //经过2000毫秒，pos对象的x和y属性分别从零变化为100、50
  tween.to({x: 100,y: 50}, 2000);

  //tween动画开始执行
  tween.start();

  // 渲染循环中更新 `TWEEN.update();`
  function render() {
    TWEEN.update();
    renderer.render(scene, camera);
    requestAnimationFrame(render);
  }
  render();
  ```

+ 缩放：模型的缩放属性 `mesh.scale` 和 `.position` 属性一样是一个具有`.x`、`.y`、`.z`属性的对象,你也可以直接用tweenjs动画控制

  ```js
  new TWEEN.Tween(mesh.scale).to({
    x: 100,
    y: 50
  }, 2000).start();

  // 渲染循环中更新 `TWEEN.update();`
  function render() {
    TWEEN.update();
    renderer.render(scene, camera);
    requestAnimationFrame(render);
  }
  render();
  ```

## 简介语法

+ 换个语法形式书写也可以，更简洁

  ```js
  // 方式1
  const tween = new TWEEN.Tween(mesh.position).to({x: 100,y: 50}, 2000).start();
  ```

  ```js
  // 方式2
  const tween = new TWEEN.Tween(mesh.position)
  .to({x: 100,y: 50}, 2000)
  .start();
  ``
